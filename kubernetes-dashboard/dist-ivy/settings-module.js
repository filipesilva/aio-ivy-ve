(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{wFcm:function(e,t,n){"use strict";n.r(t);var s,r,a,i,l=n("PXUV"),o=n("MnlZ"),d=n("fXoL"),c=n("0IaG"),m=n("bTqV");s=$localize`Settings have changed since last reload`,r=$localize`Do you want to save them anyways?`,a=$localize`Save`,i=$localize`Refresh`;let g=(()=>{class e{constructor(e){this.dialogRef=e}onNoClick(){this.dialogRef.close()}}return e.ɵfac=function(t){return new(t||e)(d["ɵɵdirectiveInject"](c.g))},e.ɵcmp=d["ɵɵdefineComponent"]({type:e,selectors:[["kd-settings-save-anyway-dialog"]],decls:9,vars:2,consts:[["mat-dialog-title",""],["mat-button","","color","primary",3,"mat-dialog-close"]],template:function(e,t){1&e&&(d["ɵɵelementStart"](0,"h2",0),d["ɵɵi18n"](1,s),d["ɵɵelementEnd"](),d["ɵɵelementStart"](2,"mat-dialog-content"),d["ɵɵi18n"](3,r),d["ɵɵelementEnd"](),d["ɵɵelementStart"](4,"mat-dialog-actions"),d["ɵɵelementStart"](5,"button",1),d["ɵɵi18n"](6,a),d["ɵɵelementEnd"](),d["ɵɵelementStart"](7,"button",1),d["ɵɵi18n"](8,i),d["ɵɵelementEnd"](),d["ɵɵelementEnd"]()),2&e&&(d["ɵɵadvance"](5),d["ɵɵproperty"]("mat-dialog-close",!0),d["ɵɵadvance"](2),d["ɵɵproperty"]("mat-dialog-close",!1))},directives:[c.h,c.e,c.c,m.b,c.d],encapsulation:2}),e})();var u=n("5fJw"),p=n("UeXa"),h=n("ofXK"),f=n("TN1b"),v=n("3Pt+"),y=n("XiUz");const b=["*"];let x=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=d["ɵɵdefineComponent"]({type:e,selectors:[["kd-settings-entry"]],inputs:{key:"key",desc:"desc"},ngContentSelectors:b,decls:6,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center none","fxFlex",""],[1,"kd-muted"]],template:function(e,t){1&e&&(d["ɵɵprojectionDef"](),d["ɵɵelementStart"](0,"div",0),d["ɵɵelementStart"](1,"div"),d["ɵɵtext"](2),d["ɵɵelementEnd"](),d["ɵɵelementStart"](3,"div",1),d["ɵɵtext"](4),d["ɵɵelementEnd"](),d["ɵɵelementEnd"](),d["ɵɵprojection"](5,0,["class","kd-settings-entry-form","fxFlex",""])),2&e&&(d["ɵɵadvance"](2),d["ɵɵtextInterpolate"](t.key),d["ɵɵadvance"](2),d["ɵɵtextInterpolate"](t.desc))},directives:[y.d,y.c,y.b],encapsulation:2}),e})();var S,E,k=n("kmnG"),C=n("qFsG"),I=n("5RNC");S=$localize`Global settings`,E=$localize` Global settings are stored in config map, so all of them are applied for every instance of the app. `;const w=["key",$localize`Cluster name`,"desc",$localize`Cluster name appears in the browser window title if it is set.`],z=["placeholder",$localize`Cluster name`],M=["key",$localize`Items per page`,"desc",$localize`Max number of items that can be displayed on each list page.`],_=["key",$localize`Logs auto-refresh time interval`,"desc",$localize`Number of seconds between every auto-refresh of logs.`],R=["key",$localize`Resource auto-refresh time interval`,"desc",$localize`Number of seconds between every auto-refresh of every resource. Set 0 to disable.`];var T,$;function A(e,t){if(1&e){const e=d["ɵɵgetCurrentView"]();d["ɵɵelementStart"](0,"kd-card",1),d["ɵɵelementStart"](1,"div",2),d["ɵɵi18n"](2,S),d["ɵɵelementEnd"](),d["ɵɵelementStart"](3,"div",3),d["ɵɵelementStart"](4,"p"),d["ɵɵi18n"](5,E),d["ɵɵelementEnd"](),d["ɵɵelement"](6,"br"),d["ɵɵelementStart"](7,"form",4,5),d["ɵɵlistener"]("ngSubmit",(function(t){d["ɵɵrestoreView"](e);const n=d["ɵɵreference"](8);return d["ɵɵnextContext"]().save(n)})),d["ɵɵelementStart"](9,"kd-settings-entry",6),d["ɵɵi18nAttributes"](10,w),d["ɵɵelementStart"](11,"mat-form-field",7),d["ɵɵelementStart"](12,"input",8),d["ɵɵi18nAttributes"](13,z),d["ɵɵlistener"]("ngModelChange",(function(t){return d["ɵɵrestoreView"](e),d["ɵɵnextContext"]().settings.clusterName=t})),d["ɵɵelementEnd"](),d["ɵɵelementEnd"](),d["ɵɵelementEnd"](),d["ɵɵelementStart"](14,"kd-settings-entry",6),d["ɵɵi18nAttributes"](15,M),d["ɵɵelementStart"](16,"div",7),d["ɵɵelementStart"](17,"mat-slider",9),d["ɵɵlistener"]("ngModelChange",(function(t){return d["ɵɵrestoreView"](e),d["ɵɵnextContext"]().settings.itemsPerPage=t})),d["ɵɵelementEnd"](),d["ɵɵelementStart"](18,"div",10),d["ɵɵtext"](19),d["ɵɵelementEnd"](),d["ɵɵelementEnd"](),d["ɵɵelementEnd"](),d["ɵɵelementStart"](20,"kd-settings-entry",6),d["ɵɵi18nAttributes"](21,_),d["ɵɵelementStart"](22,"div",7),d["ɵɵelementStart"](23,"mat-slider",11),d["ɵɵlistener"]("ngModelChange",(function(t){return d["ɵɵrestoreView"](e),d["ɵɵnextContext"]().settings.logsAutoRefreshTimeInterval=t})),d["ɵɵelementEnd"](),d["ɵɵelementStart"](24,"span",10),d["ɵɵtext"](25),d["ɵɵelementEnd"](),d["ɵɵelementEnd"](),d["ɵɵelementEnd"](),d["ɵɵelementStart"](26,"kd-settings-entry",6),d["ɵɵi18nAttributes"](27,R),d["ɵɵelementStart"](28,"div",7),d["ɵɵelementStart"](29,"mat-slider",12),d["ɵɵlistener"]("ngModelChange",(function(t){return d["ɵɵrestoreView"](e),d["ɵɵnextContext"]().settings.resourceAutoRefreshTimeInterval=t})),d["ɵɵelementEnd"](),d["ɵɵelementStart"](30,"span",10),d["ɵɵtext"](31),d["ɵɵelementEnd"](),d["ɵɵelementEnd"](),d["ɵɵelementEnd"](),d["ɵɵelement"](32,"br"),d["ɵɵelement"](33,"br"),d["ɵɵelementStart"](34,"button",13),d["ɵɵi18n"](35,T),d["ɵɵelementEnd"](),d["ɵɵelementStart"](36,"button",14),d["ɵɵlistener"]("click",(function(t){d["ɵɵrestoreView"](e);const n=d["ɵɵreference"](8);return d["ɵɵnextContext"]().load(n)})),d["ɵɵi18n"](37,$),d["ɵɵelementEnd"](),d["ɵɵelementEnd"](),d["ɵɵelementEnd"](),d["ɵɵelementEnd"]()}if(2&e){const e=d["ɵɵreference"](8),t=d["ɵɵnextContext"]();d["ɵɵproperty"]("initialized",t.isInitialized())("expandable",!0),d["ɵɵadvance"](12),d["ɵɵproperty"]("ngModel",t.settings.clusterName),d["ɵɵadvance"](5),d["ɵɵproperty"]("ngModel",t.settings.itemsPerPage),d["ɵɵadvance"](2),d["ɵɵtextInterpolate1"](" ",t.settings.itemsPerPage," "),d["ɵɵadvance"](4),d["ɵɵproperty"]("ngModel",t.settings.logsAutoRefreshTimeInterval),d["ɵɵadvance"](2),d["ɵɵtextInterpolate1"](" ",t.settings.logsAutoRefreshTimeInterval," "),d["ɵɵadvance"](4),d["ɵɵproperty"]("ngModel",t.settings.resourceAutoRefreshTimeInterval),d["ɵɵadvance"](2),d["ɵɵtextInterpolate1"](" ",t.settings.resourceAutoRefreshTimeInterval," "),d["ɵɵadvance"](3),d["ɵɵproperty"]("disabled",e.pristine)}}T=$localize` Save `,$=$localize` Reload `;let N=(()=>{class e{constructor(e,t,n){this.settings_=e,this.dialog_=t,this.title_=n,this.concurrentChangeErr_="settings changed since last reload",this.settings={},this.hasLoadError=!1}ngOnInit(){this.load()}isInitialized(){return this.settings_.isInitialized()}load(e){e&&e.resetForm(),this.settings_.load(this.onLoad.bind(this),this.onLoadError.bind(this))}onLoad(){this.settings.itemsPerPage=this.settings_.getItemsPerPage(),this.settings.clusterName=this.settings_.getClusterName(),this.settings.logsAutoRefreshTimeInterval=this.settings_.getLogsAutoRefreshTimeInterval(),this.settings.resourceAutoRefreshTimeInterval=this.settings_.getResourceAutoRefreshTimeInterval()}onLoadError(){this.hasLoadError=!0}save(e){this.settings_.save(this.settings).subscribe(()=>{this.load(e),this.title_.update(),this.settings_.onSettingsUpdate.next()},t=>{t&&-1!==t.data.indexOf(this.concurrentChangeErr_)&&this.dialog_.open(g,{width:"420px"}).afterClosed().subscribe(t=>{!0===t?this.save(e):this.load(e)})})}}return e.ɵfac=function(t){return new(t||e)(d["ɵɵdirectiveInject"](u.a),d["ɵɵdirectiveInject"](c.b),d["ɵɵdirectiveInject"](p.a))},e.ɵcmp=d["ɵɵdefineComponent"]({type:e,selectors:[["kd-global-settings"]],decls:1,vars:1,consts:[[3,"initialized","expandable",4,"ngIf"],[3,"initialized","expandable"],["title",""],["content",""],[3,"ngSubmit"],["form","ngForm"],[6,"key","desc"],["fxFlex",""],["name","clusterName","type","text","matInput","",3,"ngModel","ngModelChange",6,"placeholder"],["name","itemsPerPage","color","primary","min","5","max","50","step","5","fxFlex","",3,"ngModel","ngModelChange"],["fxFlexAlign"," center",1,"kd-slider-value","kd-muted"],["name","autoRefreshTimeInterval","color","primary","min","1","max","10","step","1","fxFlex","",3,"ngModel","ngModelChange"],["name","resourceAutoRefreshTimeInterval","color","primary","min","0","max","60","step","5","fxFlex","",3,"ngModel","ngModelChange"],["type","submit","color","primary","mat-raised-button","",3,"disabled"],["type","button","color","primary","mat-raised-button","",3,"click"]],template:function(e,t){1&e&&d["ɵɵtemplate"](0,A,38,10,"kd-card",0),2&e&&d["ɵɵproperty"]("ngIf",!t.hasLoadError)},directives:[h.NgIf,f.a,v["ɵangular_packages_forms_forms_y"],v.NgControlStatusGroup,v.NgForm,x,k.b,y.b,C.a,v.DefaultValueAccessor,v.NgControlStatus,v.NgModel,I.a,y.a,m.b],encapsulation:2}),e})();var L,P,F=n("itu2"),j=n("1jcm");L=$localize`Local settings`,P=$localize` Local settings are stored in the browser cookies, so they are not synchronized between multiple devices. Changes are applied automatically on every change. `;const V=["key",$localize`Dark theme`,"desc",$localize`Use dark theme in the whole app`];let D=(()=>{class e{constructor(e){this.settings_=e,this.settings={}}ngOnInit(){this.settings=this.settings_.get()}onThemeChange(){this.settings_.handleThemeChange(this.settings.isThemeDark)}}return e.ɵfac=function(t){return new(t||e)(d["ɵɵdirectiveInject"](F.a))},e.ɵcmp=d["ɵɵdefineComponent"]({type:e,selectors:[["kd-local-settings"]],decls:11,vars:2,consts:[[3,"expandable"],["title",""],["content",""],[6,"key","desc"],["fxFlex",""],["color","primary","name","isThemeDark",3,"ngModel","ngModelChange","change"]],template:function(e,t){1&e&&(d["ɵɵelementStart"](0,"kd-card",0),d["ɵɵelementStart"](1,"div",1),d["ɵɵi18n"](2,L),d["ɵɵelementEnd"](),d["ɵɵelementStart"](3,"div",2),d["ɵɵelementStart"](4,"p"),d["ɵɵi18n"](5,P),d["ɵɵelementEnd"](),d["ɵɵelement"](6,"br"),d["ɵɵelementStart"](7,"kd-settings-entry",3),d["ɵɵi18nAttributes"](8,V),d["ɵɵelementStart"](9,"div",4),d["ɵɵelementStart"](10,"mat-slide-toggle",5),d["ɵɵlistener"]("ngModelChange",(function(e){return t.settings.isThemeDark=e}))("change",(function(e){return t.onThemeChange()})),d["ɵɵelementEnd"](),d["ɵɵelementEnd"](),d["ɵɵelementEnd"](),d["ɵɵelementEnd"](),d["ɵɵelementEnd"]()),2&e&&(d["ɵɵproperty"]("expandable",!0),d["ɵɵadvance"](10),d["ɵɵproperty"]("ngModel",t.settings.isThemeDark))},directives:[f.a,x,y.b,j.a,v.NgControlStatus,v.NgModel],encapsulation:2}),e})(),G=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=d["ɵɵdefineComponent"]({type:e,selectors:[["kd-settings"]],decls:2,vars:0,template:function(e,t){1&e&&(d["ɵɵelement"](0,"kd-global-settings"),d["ɵɵelement"](1,"kd-local-settings"))},directives:[N,D],encapsulation:2}),e})();var U=n("tyNb");const X={path:"",component:G,data:{breadcrumb:"Settings"}};let J=(()=>{class e{}return e.ɵmod=d["ɵɵdefineNgModule"]({type:e}),e.ɵinj=d["ɵɵdefineInjector"]({factory:function(t){return new(t||e)},imports:[[U.RouterModule.forChild([X])],U.RouterModule]}),e})();n.d(t,"SettingsModule",(function(){return O}));let O=(()=>{class e{}return e.ɵmod=d["ɵɵdefineNgModule"]({type:e}),e.ɵinj=d["ɵɵdefineInjector"]({factory:function(t){return new(t||e)},imports:[[o.a,l.a,J]]}),e})()}}]);